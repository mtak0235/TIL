í…ŒìŠ¤íŠ¸ëŠ”! ìœ ì—°í•˜ê²Œ ë³€í™”ì— ëŒ€ì²˜í•  ìˆ˜ ìˆëŠ” ìì‹ ê°ì´ë‹¤!

# 1. UserDaoTest  ë‹¤ì‹œ ë³´ê¸°

## 1.1 í…ŒìŠ¤íŠ¸ì˜ ìœ ìš©ì„±

í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œë¥¼ í™•ì‹ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì‘ì—…ì´ë‹¤!

## 1.2 UserDaoTestì˜ íŠ¹ì§•

```java
public class UserDaoTest {
public static void main(String[] args) throws SQLException {
 ApplicationContext context = new GenericXmlApplicationContext(
 "applicationContext.xml");
 UserDao dao = context.getBean("userDao", UserDao.class); 
 User user = new User();
 user.setId("user");
	 	 user.setName("ë°±ê¸°ì„ ");
 user.setPassword("married");
 dao.add(user);
	 	 System.out.println(user.getId() + " ë“±ë¡ ì„±ê³µ");
 User user2 = dao.get(user.getId());
 System.out.println(user2.getName());
 System.out.println(user2.getPassword());
	 	 System.out.println(user2.getId() + " ì¡°íšŒ ì„±ê³µ");
}
}
```

### ì›¹ì„ í†µí•œ Dao test ë°©ë²•ì˜ ë¬¸ì œì 

ë³´í†µ ì›¹ì—ì„œ ì‚¬ìš©í•˜ëŠ” Daoë¥¼ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë°©ë²•ì€ 

1. ì„œë¹„ìŠ¤ ê³„ì¸µ, MVC í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µê¹Œì§€ í¬í•¨í•œ ëª¨ë“  ì…ì¶œë ¥ ê¸°ëŠ¥ì„ ëŒ€ì¶©ì´ë¼ë„ ì½”ë“œë¡œ ë‹¤ ë§Œë“ ë‹¤. 
2. ì´ë ‡ê²Œ ë§Œë“  í…ŒìŠ¤íŠ¸ìš© ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì„œë²„ì— ë°°ì¹˜í•œ ë’¤, ì›¹ í™”ë©´ì„ ë„ì›Œ í¼ì„ ì—´ê³  ê°’ì„ ì…ë ¥í•œ ë’¤ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë“±ë¡í•´ë³¸ë‹¤.
3. ì´ë¥¼ ìœ„í•´ì„œ í¼ì˜ ê°’ì„ ë°›ì•„ì„œ íŒŒì‹±í•œ ë’¤ì— User objë¥¼ ë§Œë“¤ê³  UserDaoë¥¼ í˜¸ì¶œí•´ì£¼ëŠ” ê¸°ëŠ¥ì´ ë‹¤ ë§Œë“¤ì–´ì ¸ ìˆì–´ì•¼ í•œë‹¤. 
4. ì—¬ê¸°ê¹Œì§€ ì—ëŸ¬ê°€ ì—†ìœ¼ë©´ ë°©ê¸ˆ ì…ë ¥í•œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•œë‹¤.

ğŸ¤”ë§Œì•½ ì—¬ê¸°ì„œ ì—ëŸ¬ê°€ ë‚¬ë‹¤ë©´, ì–´ë””ì„œ ë‚œê±¸ê¹Œ? ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ ëŒ€ì‘í•˜ê¸°ê°€ í˜ë“¤ë‹¤.

### ì‘ì€ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸

ì‘ì€ ë‹¨ìœ„ì˜ ì½”ë“œì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•œ ê²ƒì„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(unit test)ë¼ê³  í•œë‹¤ .

### ìë™ ìˆ˜í–‰ í…ŒìŠ¤íŠ¸ ì½”ë“œ

í…ŒìŠ¤íŠ¸ì˜ ëª¨ë“  ê³¼ì •ì´ ìë™ìœ¼ë¡œ ì§„í–‰ë˜ì–´ì•¼ í•œë‹¤.

### ì§€ì†ì ì¸ ê°œì„ ê³¼ ì ì§„ì ì¸ ê°œë°œì„ ìœ„í•œ í…ŒìŠ¤íŠ¸

ëª¨ë“  ì½”ë“œë¥¼ ë‹¤ ë§Œë“¤ê³  ì´ë¥¼ ê²€ì¦í•˜ë ¤ ë“ ë‹¤ë©´ ìŸì•„ì§€ëŠ” ì—ëŸ¬ì— ê¸°ê°€ ì§ˆë¦´ ê²ƒì´ë‹¤. 

## 1.3 UserDaoTestì˜ ë¬¸ì œì 

* ìˆ˜ë™ í™•ì¸ ì‘ì—…ì˜ ë²ˆê±°ë¡œì›€
  * ê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ë¥¼ ì‚¬ëŒì´ ì½˜ì†” ì°½ ì¶œë ¥ë¬¼ì„ ë³´ê³  íŒë‹¨í•´ì•¼ í•œë‹¤.
* ì‹¤í–‰ ì‘ì—…ì˜ ë²ˆê±°ë¡œì›€
  * ì „ì²´ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•´ main()ì„ ìˆ˜ì‹­ë²ˆ ì‹¤í–‰í•´ì•¼ í•œë‹¤. 

# 2. UserDaoTest ê°œì„ 

## 2.1 í…ŒìŠ¤íŠ¸ ê²€ì¦ì˜ ìë™í™”

í…ŒìŠ¤íŠ¸ ì—ëŸ¬ : í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë˜ëŠ” ë™ì•ˆì— ì—ëŸ¬ê°€ ë°œìƒí•´ì„œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨

í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ : í…ŒìŠ¤íŠ¸ ì‘ì—… ì¤‘ì—ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ì§€ë§Œ ê·¸ ê²°ê³¼ê°€ ê¸°ëŒ€í•œ ê²ƒê³¼ ë‹¤ë¥´ê²Œ ë‚˜ì˜¨ ê²ƒ

## 2.2 í…ŒìŠ¤íŠ¸ì˜ íš¨ìœ¨ì ì¸ ìˆ˜í–‰ê³¼ ê²°ê³¼ ê´€ë¦¬

ë§ì€ í…ŒìŠ¤íŠ¸ë¥¼ ê°„ë‹¨íˆ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ê³³ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤!

ìë°”ì—ëŠ” ì´ë¥¼ ìœ„í•´ JUnitì´ë¼ëŠ” í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ê°€ ìˆë‹¤!

### JUnit í…ŒìŠ¤íŠ¸ë¡œ ì „í™˜

í”„ë ˆì„ì›Œí¬ì´ê¸° ë•Œë¬¸ì— main()ì´ ì—†ë‹¤. 

### í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ì „í™˜

JUnit fwê°€ ì›í•˜ëŠ” ì¡°ê±´ì€ ë”± ë‘˜!

* ë©”ì†Œë“œê°€ publicìœ¼ë¡œ ì„ ì–¸ë  ê²ƒ
* ë©”ì†Œë“œì— @Test ë¶™ì¼ ê²ƒ

###  ê²€ì¦ ì½”ë“œ ì „í™˜

í…ŒìŠ¤íŠ¸ì˜ ê²°ê³¼ë¥¼ ê²€ì¦í•˜ëŠ” if.elseë¬¸ì¥ì„ JUnitë°©ì‹ìœ¼ë¡œ ì „í™˜í•´ë³´ì

> assertThat(ê²°ê³¼ë¬¼).[matcher]()

matcher ëŠ” ì¡°ê±´ìœ¼ë¡œ ë¹„êµí•´ì„œ ë§ìœ¼ë©´ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ê³  ì•„ë‹ˆë©´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê²Œ ë§Œë“¤ì–´ ì¤€ë‹¤. 

JUnitì€ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê±°ë‚˜ assertThat()ì— ì‹¤íŒ¨í•˜ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì˜ ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí–ˆë‹¤ê³  ì¸ì‹í•œë‹¤. 

```java
   @Test
    void UserDaoTest() throws SQLException, ClassNotFoundException {
        ApplicationContext applicationContext = new AnnotationConfigApplicationContext(DaoFactory.class);
        UserDao dao = applicationContext.getBean("userDao", UserDao.class);
        User user = new User();
        user.setId("mta17");
        user.setName("íƒë¯¼ê²½");
        user.setPassword("1004");
        dao.add(user);
        User user1 = dao.get(user.getId());
        assertThat(user1.getName()).isEqualTo(user.getName());
        assertThat(user1.getPassword()).isEqualTo(user.getPassword());
    }
```

### JUnit í…ŒìŠ¤íŠ¸ ì‹¤í–‰

ì–´ë””ì—ë“  main()í•˜ë‚˜ ì¶”ê°€í•˜ê³ , ê·¸ ì•ˆì— JUnitCoreí´ë˜ìŠ¤ì˜ main()ì„ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ë„£ìœ¼ë©´ JUnit fwë¥¼ ì‹œì‘í•  ìˆ˜ ìˆë‹¤.  ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ë¡œ @Test ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ ì´ë¦„ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤. 

```java
import org.junit.runner.JUnitCore;
...
public static void main(String[] args) {
JUnitCore.main("springbook.user.dao.UserDaoTest");
}
```

# 3. ê°œë°œìë¥¼ ìœ„í•œ í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ JUnit

## 3.1 JUnit í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

 IDE ì“°ì…ˆ

## 3.2 í…ŒìŠ¤íŠ¸ ê²°ê³¼ì˜ ì¼ê´€ì„±

í…ŒìŠ¤íŠ¸ê°€ ì™¸ë¶€ ìƒíƒœì— ë”°ë¼ ì„±ê³µí•˜ê¸°ë„ í•˜ê³  ì‹¤íŒ¨í•˜ê¸°ë„ í•œë‹¤. 
ì´ëŸ¬ë©´ ì•ˆëœë‹¤. ì½”ë“œì— ë³€ê²½ ì‚¬í•­ì´ ì—†ìœ¼ë©´ í…ŒìŠ¤íŠ¸ëŠ” í•­ìƒ ì¸ê´€ì ì¸ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•œë‹¤. 

* deleteAll()
* getCount()

```java
package com.example.tobby.user.dao;

import com.example.tobby.user.domain.User;

import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class UserDao {
    private DataSource dataSource;

    public void setDataSource(DataSource dataSource) {
        this.dataSource = dataSource;
    }

    public void add(User user) throws ClassNotFoundException, SQLException, SQLException {
        Connection c = dataSource.getConnection();

        PreparedStatement ps = c.prepareStatement(
                "insert into users (id, name, password) values (?,?,?)");
        ps.setString(1, user.getId());
        ps.setString(2, user.getName());
        ps.setString(3, user.getPassword());
        ps.executeUpdate();
        ps.close();
        c.close();
    }

    public User get(String id) throws ClassNotFoundException, SQLException {
        Connection c = dataSource.getConnection();

        PreparedStatement ps = c.prepareStatement(
                "select * from users where id = ?"
        );
        ps.setString(1, id);

        ResultSet rs = ps.executeQuery();
        rs.next();
        User user = new User();
        user.setId(rs.getString("id"));
        user.setName(rs.getString("name"));
        user.setPassword(rs.getString("password"));
        rs.close();
        ps.close();
        c.close();
        return user;
    }

    public void deleteAll() throws SQLException {
        Connection c = dataSource.getConnection();
        PreparedStatement ps = c.prepareStatement("delete from users");
        ps.executeUpdate();
        ps.close();
        c.close();
    }

    public int getCount() throws SQLException {
        Connection c = dataSource.getConnection();
        PreparedStatement ps = c.prepareStatement("select count(*) from users");
        ResultSet rs = ps.executeQuery();
        rs.next();
        int count = rs.getInt(1);
        rs.close();
        ps.close();
        c.close();
        return count;
    }
}

```

```java
    @Test
    void addAndGet() throws SQLException, ClassNotFoundException {
        ApplicationContext applicationContext = new AnnotationConfigApplicationContext(DaoFactory.class);
        UserDao dao = applicationContext.getBean("userDao", UserDao.class);
        dao.deleteAll();
        assertThat(dao.getCount()).isEqualTo(0);
        User user = new User();
        user.setId("kawai");
        user.setName("íƒë¯¼ê²½");
        user.setPassword("0000");
        dao.add(user);
        assertThat(dao.getCount()).isEqualTo(1);
        User user1 = dao.get(user.getId());
        assertThat(user1.getPassword()).isEqualTo(user.getPassword());
        assertThat(user1.getName()).isEqualTo(user.getName());
    }
```

## 3.3 í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸

### getCount() í…ŒìŠ¤íŠ¸

```java
    @Test
    public void count() throws SQLException, ClassNotFoundException {
        GenericApplicationContext context = new GenericXmlApplicationContext("test.xml");
        UserDao dao = context.getBean("userDao", UserDao.class);
        User user = new User("mtak", "íƒë¯¼ê²½", "0000");
        User user1 = new User("yeji", "íƒì˜ˆì§€", "0000");
        User user2 = new User("doyun", "íƒë„ìœ¤", "000");

        dao.deleteAll();
        assertThat(dao.getCount()).isEqualTo(0);
        dao.add(user);
        assertThat(dao.getCount()).isEqualTo(1);
        dao.add(user1);
        assertThat(dao.getCount()).isEqualTo(2);
        dao.add(user2);
        assertThat(dao.getCount()).isEqualTo(3);
        
    }
```

### addAndGet() ë³´ì™„

```java
    @Test
    void addAndGet() throws SQLException, ClassNotFoundException {
        ApplicationContext applicationContext = new AnnotationConfigApplicationContext(DaoFactory.class);
        UserDao dao = applicationContext.getBean("userDao", UserDao.class);
        dao.deleteAll();
        assertThat(dao.getCount()).isEqualTo(0);
        User user = new User("mtak", "íƒë¯¼ê²½", "0000");
        User user1 = new User("yeji", "íƒì˜ˆì§€", "0000");
        dao.add(user);
        dao.add(user1);
        assertThat(dao.getCount()).isEqualTo(2);

        User userGet = dao.get(user.getId());
        assertThat(userGet.getName()).isEqualTo(user.getName());
        assertThat(userGet.getPassword()).isEqualTo(user.getPassword());

        User userGet1 = dao.get(user.getId());
        assertThat(userGet1.getName()).isEqualTo(user1.getName());
        assertThat(userGet1.getPassword()).isEqualTo(user1.getPassword());
    }
```

### get()ì˜ˆì™¸ ì¡°ê±´ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸

get()ë©”ì†Œë“œì— ì „ë‹¬ëœ idê°€ ì—†ë‹¤ë©´ ì–´ë–¤ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼ í• ê¹Œ? 

* null ê°™ì€ íŠ¹ë³„í•œ ê°’ì„ ë¦¬í„´í•œë‹¤.
* ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤.  

ì˜ˆì™¸ë¥¼ ë˜ì ¸ë³´ì

ğŸ¤”í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘ íŠ¹ì • ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•œ ê²ƒìœ¼ë¡œ ë§Œë“¤ê³  ì‹¶ë‹¤. 

```java
    @Test
    public void getUserFailure() throws SQLException {
        ApplicationContext context = new AnnotationConfigApplicationContext(DaoFactory.class);
        UserDao dao = context.getBean("userDao", UserDao.class);
        dao.deleteAll();
        assertThat(dao.getCount()).isEqualTo(0);
        Assertions.assertThrows(EmptyResultDataAccessException.class, () -> {
            dao.get("unknown");
        });
    }
```

get()ì—ì„œ ì¿¼ë¦¬ ê²°ê³¼ì˜ ì²«ë²ˆì§¸ rowë¥¼ ê°€ì ¸ì˜¤ëŠ” rs.next()ë¥¼ ì‹¤í–‰í•  ë•Œ ê°€ì ¸ì˜¬ rowê°€ ì—†ë‹¤ëŠ” SQLExceptionì„ í•¸ë“¤ë§ í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ëŠ” ë‹¹ì—°íˆ nonpassë‹¤. 

### í…ŒìŠ¤íŠ¸ë¥¼ ì„±ê³µì‹œí‚¤ê¸° ìœ„í•œ ì½”ë“œì˜ ìˆ˜ì •

ì´ì œ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ë„ë¡ get()ì„ ìˆ˜ì •í•´ ë³´ì. 

```java
    public User get(String id) throws ClassNotFoundException, SQLException {
        Connection c = dataSource.getConnection();

        PreparedStatement ps = c.prepareStatement(
                "select * from users where id = ?"
        );
        ps.setString(1, id);

        User user = null;
        ResultSet rs = ps.executeQuery();
        if (rs.next()) {
            user = new User();
            user.setId(rs.getString("id"));
            user.setName(rs.getString("name"));
            user.setPassword(rs.getString("password"));
        }
        rs.close();
        ps.close();
        c.close();
        if (user == null) throw new EmptyResultDataAccessException(1);
        return user;
    }
```

### í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸

í•­ìƒ negative testë¥¼ ë¨¼ì € ë§Œë“¤ì–´ë¼. 

## 3.4 í…ŒìŠ¤íŠ¸ê°€ ì´ë„ëŠ” ê°œë°œ

### ê¸°ëŠ¥ ì„¤ê³„ë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ë¥¼ í•  ì½”ë“œê°€ ì—†ëŠ”ë° ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ?
ì¶”ê°€í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ì„ ì½”ë“œë¡œ í‘œí˜„í•˜ë ¤ê³  í–ˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤. 

* getUserFailure() í…ŒìŠ¤íŠ¸ ì½”ë“œì— ë‚˜íƒ€ë‚œ ê¸°ëŠ¥

  |      | ë‹¨ê³„                | ë‚´ìš©                                | ì½”ë“œ                                                         |
  | ---- | ------------------- | ----------------------------------- | ------------------------------------------------------------ |
  | ì¡°ê±´ | ì–´ë–¤ ì¡°ê±´ì„ ê°€ì§€ê³   | ê°€ì ¸ì˜¬ ì‚¬ìš©ì ì •ë³´ê°€ ì—†ì„ ë•Œ        | dao.deleteAll();<br />assertThat(dao.getCount).isEqualTo(0); |
  | í–‰ìœ„ | ë¬´ì—‡ì„ í•  ë•Œ        | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” idë¡œ get()ì„ ì‹¤í–‰í•˜ë©´ | get('unknownID')                                             |
  | ê²°ê³¼ | ì–´ë–¤ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤. | íŠ¹ë³„í•  ì˜ˆì™¸ê°€ ë˜ì ¸ì§„ë‹¤.             | Assertions.assertThorws(EmptyDataAccessException.class, ()->{}) |

  

í”„ë¡œì íŠ¸ì˜ "ì„¤ê³„" ë‹¨ê³„ì—ì„œ ì‘ì„±ë˜ëŠ” ê¸°ëŠ¥ ì •ì˜ì„œì˜ ì¼ì¢… ì´ë‹¤. 

### í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ

ë§Œë“¤ê³ ì í•˜ëŠ” ê¸°ëŠ¥ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ë§Œë“¤ê³  ë¡œì§ì„ ì½”ë”©í•˜ëŠ” ë°©ì‹ì„ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD)ë¼ê³  í•œë‹¤. 

í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•œ í›„ ê°€ëŠ¥í•œ ë¹¨ë¦¬ ëŒë ¤ë³¼ ìˆ˜ ìˆì„ ì‚¬ì´ì¦ˆì—¬ì•¼ í•œë‹¤. 

## 3.5 í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°œì„ 

```java
        ApplicationContext context = new AnnotationConfigApplicationContext(DaoFactory.class);
        UserDao dao = context.getBean("userDao", UserDao.class);
```

ë°˜ë³µë˜ëŠ” ìš” ì½”ë“œë¥¼ JUnitì´ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ë¶€ê°€ì ìœ¼ë¡œ í•´ ì£¼ëŠ” ì‘ì—… ë°©ì‹ìœ¼ë¡œ ë¦¬íŒ©í† ë§ í•˜ì.

### @Before

```java
    private UserDao dao;
    @BeforeEach
    private void setUp() {
        ApplicationContext context = new AnnotationConfigApplicationContext(DaoFactory.class);
        dao = context.getBean("userDao", UserDao.class);
    }
```

  JUnitì´ í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •

1. í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ @Testê°€ ë¶™ì€ publicì´ê³  voidí˜•ì´ë©° íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” í…ŒìŠ¤íŠ¸  ë©”ì†Œë“œë¥¼ ëª¨ë‘ ì°¾ëŠ”ë‹¤. 
2. í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤.  
3. @Beforeê°€ ë¶™ì€ ë©”ì†Œë“œê°€ ìˆìœ¼ë©´ ì‹¤í–‰í•œë‹¤.  
4. @Testê°€ ë¶™ì€ ë©”ì†Œë“œë¥¼ í•˜ë‚˜ í˜¸ì¶œí•˜ê³  í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì €ì¥í•´ë‘”ë‹¤. 
5. @Afterê°€ ë¶™ì€ ë©”ì†Œë“œê°€ ìˆìœ¼ë©´ ì‹¤í–‰í•œë‹¤.  
6. ë‚˜ë¨¸ì§€ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ëŒ€í•´ 2~5ë²ˆì„ ë°˜ë³µí•œë‹¤. 
7. ëª¨ë“  í…ŒìŠ¤íŠ¸ì˜ ê²°ê³¼ë¥¼ ì¢…í•©í•´ì„œ ëŒë ¤ì¤€ë‹¤

ğŸ˜ê° í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“ ë‹¤. ë…ë¦½ì ì¸ ì‹¤í–‰ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œë‹¤. 

### í”½ìŠ¤ì³ (fixture)

* í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ”ë° í•„ìš”í•œ ì •ë³´ë‚˜ objë¥¼ ë§í•œë‹¤. 
* ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ì— ë°˜ë³µì ìœ¼ë¡œ ì“°ì´ê¸° ë•Œë¬¸ì— @Beforeë©”ì†Œë“œë¡œ ë”°ë¡œ ë¹¼ë‘ëŠ”ê²Œ í¸í•˜ë‹¤.

# 4. ìŠ¤í”„ë§ í…ŒìŠ¤íŠ¸ ì ìš©

í…ŒìŠ¤íŠ¸ëŠ” ê°€ëŠ¥í•œ í•œ ë…ë¦½ì ìœ¼ë¡œ ë§¤ë²ˆ ìƒˆë¡œìš´ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì›ì¹™ì´ë‹¤. 

í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì²˜ëŸ¼ ìƒì„±ì— ë§ì€ ì‹œê°„ê³¼ ìì›ì´ ì†Œëª¨ë˜ëŠ” ê²½ìš° ì—ëŠ” í…ŒìŠ¤íŠ¸ ì „ì²´ê°€ ê³µìœ í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ê¸°ë„ í•œë‹¤

ğŸ¤”ê·¸ì¹˜ë§Œ JUnitì€ ë§¤ë²ˆ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ objë¥¼ ìƒˆë¡œ ë§Œë“ ë‹¤..ê·¸ë ‡ë‹¤ë©´ ê³µìœ í•  application contextë¥¼ staticì— ì €ì¥í•´ë‘ëŠ”ê±´ ì–´ë–¨ê¹Œ?
í´ë˜ìŠ¤ ì „ì²´ì— ê±¸ì³ ë”± í•œë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” @BeforeClassì—ì„œ ì´ˆê¸°í™” í•´ì£¼ì. 

ğŸ˜ìŠ¤í”„ë§ì—ëŠ” application contextë¥¼ ì§€ì›í•˜ì§€..

## 4.1 í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ application context ê´€ë¦¬

### spring test context fw ì ìš©

* `@ExtendWith(SpringExtension.class)`
  `@ContextConfiguration(locations = "/test.xml")`
  ì¶”ê°€
* `ApplicationContext context = new AnnotationConfigApplicationContext(DaoFactory.class);`
  ì œê±°
* @Autowired
  ApplicationContext context;

```java
@SpringBootTest
@ExtendWith(SpringExtension.class)
@ContextConfiguration(locations = "/test.xml")
class UserDaoTest {

    @Autowired
    private ApplicationContext context;

    @BeforeEach
    private UserDao setUp() {
        dao = context.getBean("userDao", UserDao.class);
        user = new User("mtak", "íƒë¯¼ê²½", "0000");
        user1 = new User("yeji", "íƒì˜ˆì§€", "0000");
        user2 = new User("doyun", "íƒë„ìœ¤", "000");
        return dao;
    }
    ...
}
```

ğŸ˜†@ExtendWith() : JUnit fwì˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•ì„ í™•ì¥í•  ë•Œ ì‚¬ìš©í•œë‹¤.
JUnitìš© test context fw extension classë¥¼ ì§€ì •í•˜ë©´ JUnitì´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ì¤‘ì— í…ŒìŠ¤íŠ¸ê°€ ì‚¬ìš©í•  application contextë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•œë‹¤. 

ğŸ˜†@ContextConfiguration: ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤„ application contextì˜ ì„¤ì • íŒŒì¼ ìœ„ì¹˜ë¥¼ ì €ì¥í•œ ê²ƒì´ë‹¤. 

### í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì˜ context ê³µìœ 

```java
    @BeforeEach
    private void initExecuted() {
        System.out.println("context = " + context);
        System.out.println("this = " + this);
    }
```

ì¶œë ¥ë¬¼ì„ ë³´ë©´ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ thisëŠ” ë‹¤ë¥¼ ì§€ì–¸ì • ëª¨ë‘ ë™ì¼í•œ contextë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

### í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ì»¨í…ìŠ¤íŠ¸ ê³µìœ 

ìŠ¤í”„ë§ì€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‚¬ì´ì—ì„œë„ application contextë¥¼ ê³µìœ í•˜ê²Œ í•´ì¤€ë‹¤!
ë‹¨ì§€, ê°™ì€ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•˜ê²Œë§Œ í•´ì¤˜ë„ í…ŒìŠ¤íŠ¸ ì „ì²´ê²Œ ê±¸ì³ ë‹¨ í•˜ë‚˜ì˜ application contextë§Œ ë§Œë“¤ì–´ì§„ë‹¤!

ğŸ˜†@Autowired : ë‚´ê°€ ë¶™ìœ¼ë©´, test context fwëŠ” ë³€ìˆ˜ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ëŠ” contextë‚´ì˜ ë¹ˆì„ ì°¾ëŠ”ë‹¤. ìˆìœ¼ë©´ ì£¼ì…í•œë‹¤ 

ì¼ë°˜ì ìœ¼ë¡œ ì£¼ì…ì„ ìœ„í•´ ìƒì„±ì, setter()ê°€ í•„ìš”í•œë° ì´ ê²½ìš°ì—” ë©”ì†Œë“œê°€ ì—†ì–´ë„ ì£¼ì…ì´ ê°€ëŠ¥í•˜ë‹¤! ì´ëŸ° ë°©ì‹ì„ **ìë™ ì™€ì´ì–´ë§**ì´ë¼ê³  í•œë‹¤. 

ì—.. ê·¸ëŸ¼ getBean()ì•ˆí•´ë„ DIë°›ì„ ìˆ˜ ìˆì–ì•„?

ã…‡ã…‡

```java
@Autowired
UserDao dao;
```

ë‹¤ë§Œ ê°™ì€ íƒ€ì…ì˜ ë¹ˆì´ ì—¬ëŸ¬ê°œ ìˆìœ¼ë©´, ë³€ìˆ˜ì˜ ì´ë¦„ê³¼ ê°™ì€ ì´ë¦„ì˜ ë¹ˆì„ ìš°ì„ ìœ¼ë¡œ ë„£ëŠ”ë‹¤. 

ë§Œì•½ dataSource, dataSource2ë¹ˆì´ ìˆì„ ê²½ìš°

```java
@Autowired
DataSource dataSource2; //dataSource2 ë¹ˆì´ ì£¼ì…ëœë‹¤. 
```

ğŸ¤”xmlì— ApplicationContextëŠ” ë¹ˆìœ¼ë¡œ ë“±ë¡ë¼ìˆì§€ ì•Šì€ë°?

application contextëŠ” ì´ˆê¸°í™”í•  ë•Œ ìê¸° ìì‹ ë„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. 

## 4.2 DIì™€ í…ŒìŠ¤íŠ¸

ğŸ¤”ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì™¸ë¶€ë¡œë¶€í„° ì‚¬ìš©í•  objë¥¼ ì£¼ì…ë°›ì•„ì™”ëŠ”ë°, ë§Œì•½ ì €ì–¼ëŒ€ë¡œ êµ¬í˜„ì²´ê°€ ë°”ë€”ë¦¬ê°€ ì—†ì–´! ê·¸ëŸ¼ ê± ì¸í„°í˜ì´ìŠ¤ ì•ˆì“°ë©´ ì•ˆë˜?

ã…‡ã…‡ ì¸í„°í˜ì´ì“° ì¨ì•¼í•´.

1. ì•ˆ ë°”ë€”ë¦¬ê°€ ì—†ì–´
2. ì¶”ê°€ ê¸°ëŠ¥ ë„£ê¸° ì¢‹ì•„
3. í…ŒìŠ¤íŠ¸ ë²”ìœ„ê°€ ì‘ì•„ì§„ë‹¤. 

í…ŒìŠ¤íŠ¸ì— DIë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ëª‡ê°€ì§€ ë³´ì

### í…ŒìŠ¤íŠ¸ ì½”ë“œì—  ì˜í•œ DI

UserDaoì—ëŠ” DI containerê°€ DIì— ì‚¬ìš©í•˜ë„ë¡ setter()ë¥¼ ë§Œë“¤ì–´ ë’€ë‹¤. 

ì¦‰, xmlì„ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ í…ŒìŠ¤íŠ¸ ì½”ë“œ ë‚´ì—ë„ setter()ë¡œ ì§ì ‘ DI í•  ìˆ˜ ìˆë‹¤. 

í…ŒìŠ¤íŠ¸ìš© DBì— ì—°ê²°í•´ì£¼ëŠ” DataSourceë¥¼ í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œ ì§ì ‘ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 

* `SingleConnectionDataSource dataSource = new SingleConnectionDataSource("jdbc:mysql://localhost/tobby", "tobaby", "0000", true);
          dao.setDataSource(dataSource);` ì¶”ê°€

```java
@DirtiesContext
class UserDaoTest {

    @Autowired
    private ApplicationContext context;
    @Autowired
    UserDao dao;

    @BeforeEach
    private void setUp() {
        SingleConnectionDataSource dataSource = new SingleConnectionDataSource("jdbc:mysql://localhost/tobby", "tobaby", "0000", true);
        dao.setDataSource(dataSource);
//        dao = context.getBean("userDao", UserDao.class);
        user = new User("mtak", "íƒë¯¼ê²½", "0000");
        user1 = new User("yeji", "íƒì˜ˆì§€", "0000");
        user2 = new User("doyun", "íƒë„ìœ¤", "000");
    }
```

ğŸ˜@DirtiesContext : í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì—ì„œ application contextêµ¬ì„±ì´ë‚˜ ìƒíƒœë¥¼ ë³€ê²½í•œë‹¤ëŠ” ê²ƒì„ test context fwì— ì•Œë ¤ì„œ ì´ í´ë˜ìŠ¤ì—ëŠ” application contextê³µìœ ë¥¼ ë§‰ëŠ”ë‹¤. ì¦‰, ë©”ì†Œë“œë§ˆë‹¤ ìƒˆë¡œìš´ application contextë¥¼ ë§Œë“¤ì–´ ì“´ë‹¤. 

###  í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ  ë³„ë„ì˜ DIì„¤ì •

í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ë¹ˆ objë¥¼ ìˆ˜ë™ìœ¼ë¡œ DIí•˜ëŠ” ì¼ì€ ìƒê°ë³´ë‹¤ ë³„ë¡œë‹¤. 
ë§¤ í…ŒìŠ¤íŠ¸ ë§ˆë‹¤ applicationì„ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ ë˜ì§€ ì•ŠëŠ”ê°€?

Daoê°€ í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ë‹¤ë¥¸ DataSourceë¥¼ ì‚¬ìš©í•˜ê²Œ ë§Œë“¤ê³  ì‹¶ë‹¤!

ë‘ê°€ì§€ ì¢…ë¥˜ì˜ ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ í•˜ë‚˜ì—ëŠ” ì„œë²„ì— ìš´ì˜ìš©ìœ¼ë¡œ ì‚¬ìš©í•  DataSourceë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ ë‘ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” í…ŒìŠ¤íŠ¸ì— ì í•©í•œ DBë¥¼ ì‚¬ìš©í•˜ëŠ” DataSourceê°€ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ê²Œ ë§Œë“¤ì. 

```java
@ContextConfiguration(locations="/test-applicationContext.xml")
```

ê·€ì°®ê²Œ @DirtiesContextë¥¼ ì“¸ í•„ìš”ê°€ ì—†ë‹¤. 

### ì»¨í…Œì´ë„ˆê°€ ì—†ëŠ” DIí…ŒìŠ¤íŠ¸

```java
public class UserDaoTest {
UserDao dao; 
...
@Before
public void setUp() {
 ... 
dao = new UserDao();
 DataSource dataSource = new SingleConnectionDataSource( 
 "jdbc:mysql://localhost/testdb", "spring", "book", true);
 dao.setDataSource(dataSource);
}
```

í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ DataSourceë¥¼ ì§ì ‘ ë§Œë“œëŠ” ë²ˆê±°ë¡œì›€ì€ ìˆì§€ë§Œ, application contextë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë‹ˆ application contextê°€ ìƒì„±ë˜ëŠ” ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. 

### DIë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ ë°©ë²• ì„ íƒ

* í•­ìƒ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì—†ì´ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ê°€ì¥ ìš°ì„ ì ìœ¼ë¡œ ê³ ë ¤í•˜ì
* ì˜ì¡´ê´€ê³„ê°€ ë³µì¡í•˜ë‹¤ë©´ ìŠ¤í”„ë§ì˜ ì„¤ì •ì„ ì´ìš©í•œ DIë°©ì‹ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•˜ì. 
* í…ŒìŠ¤íŠ¸ì—ì„œ application contextë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í…ŒìŠ¤íŠ¸ ì „ìš© ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ì–´ ì“°ì. 

# 5.  í•™ìŠµ í…ŒìŠ¤íŠ¸ë¡œ ë°°ìš°ëŠ” ìŠ¤í”„ë§

ë‚¨ì´ ë§Œë“  ì½”ë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œëŠ” ê²ƒì„ **í•™ìŠµ í…ŒìŠ¤íŠ¸**ë¼ê³  í•œë‹¤. 

ì´ë†ˆì˜ ëª©ì ì€ ê¸°ëŠ¥ì— ëŒ€í•œ ê²€ì¦ì´ ì•„ë‹Œ, ìê¸°ê°€ ê¸°ìˆ ì„ ì–¼ë§ˆë‚˜ ì œëŒ€ë¡œ ì´í•´í–ˆëŠ”ì§€ë¥¼ ê²€ì¦í•˜ë ¤ëŠ” ëª©ì ì´ë‹¤. 

## 5.1 í•™ìŠµ í…ŒìŠ¤íŠ¸ì˜ ì¥ì 

* ë‹¤ì–‘í•œ ì¡°ê±´ì— ë”°ë¥¸ ê¸°ëŠ¥ì„ ì†ì‰½ê²Œ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤. 
* í•™ìŠµ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê°œë°œ ì¤‘ì— ì°¸ê³ í•  ìˆ˜ ìˆë‹¤. 
* í”„ë ˆì„ì›Œí¬ë‚˜ ì œí’ˆì„ ì—…ê·¸ë ˆì´ë“œ í•  ë•Œ í˜¸í™˜ì„± ê²€ì¦ì„ ë„ì™€ì¤€ë‹¤. 
* í…ŒìŠ¤íŠ¸ ì‘ì„±ì— ëŒ€í•œ ì¢‹ì€ í›ˆë ¨ì´ ëœë‹¤. 

## 5.2 í•™ìŠµ í…ŒìŠ¤íŠ¸ ì˜ˆì œ

* JUnit test obj test

  * [JUnitì€ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•  ë•Œ ë§ˆë‹¤ ìƒˆë¡œìš´ objë¥¼ ë§Œë“ ë‹¤. ]

    ```java
    package com.example.tobby;
    
    import org.junit.jupiter.api.Assertions;
    import org.junit.jupiter.api.Test;
    
    import static org.assertj.core.api.Assertions.assertThat;
    
    public class JUnitTest {
    
        static JUnitTest test;
        @Test
        public void test1() {
            assertThat(this).isNotEqualTo(test);
            test = this;
        }
        @Test
        public void test2() {
            assertThat(this).isNotEqualTo(test);
            test = this;
        }
        @Test
        public void test3() {
            assertThat(this).isNotEqualTo(test);
            test = this;
        }
    }
    
    ```

    ì´ì „ê³¼ ë‹¤ë¥¸ì§€ë§Œ ë¬»ì§€ ë§ê³  ë‹¤ë¥¸ ê²ƒë“¤ì´ë‘ ë¹„êµí–ˆì„ë•Œ ë‹¤ë¥¸ì§€ ë³´ì—¬ì£¼ì.

    ```java
    package com.example.tobby;
    
    import org.junit.jupiter.api.Assertions;
    import org.junit.jupiter.api.Test;
    
    import java.util.HashSet;
    import java.util.Set;
    
    import static org.assertj.core.api.Assertions.assertThat;
    
    public class JUnitTest {
    
        static Set<JUnitTest> tests = new HashSet<>();
        @Test
        public void test1() {
            assertThat(tests).hasSameElementsAs(tests);
            tests.add(this);
        }
        @Test
        public void test2() {
            assertThat(tests).hasSameElementsAs(tests);
            tests.add(this);
        }
        @Test
        public void test3() {
            assertThat(tests).hasSameElementsAs(tests);
            tests.add(this);
        }
    }
    
    ```

    

### ìŠ¤í”„ë§ í…ŒìŠ¤íŠ¸ ì»¨í…ìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸

ğŸ˜JUnit ê³¼ ë°˜ëŒ€ë¡œ ìŠ¤í”„ë§ì˜ í…ŒìŠ¤íŠ¸ìš© ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸ ê°œìˆ˜ì— ìƒê´€ì—†ì´ í•œ ê°œë§Œ  ë§Œë“¤ì–´ì§„ë‹¤. ë˜ ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ì»¨í…ìŠ¤íŠ¸ëŠ” ëª¨ë“  í…ŒìŠ¤íŠ¸ì—ì„œ ê³µìœ ëœë‹¤ê³  í–ˆë‹¤. 

ğŸ¤”ã„¹ã…‡?

```java
package com.example.tobby;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.junit.jupiter.api.extension.Extension;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.ApplicationContext;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit.jupiter.SpringExtension;

import java.util.HashSet;
import java.util.Set;

import static org.assertj.core.api.Assertions.assertThat;

@ExtendWith(SpringExtension.class)
@ContextConfiguration
public class JUnitTest {

    @Autowired
    ApplicationContext context;
    static ApplicationContext contextObject = null;
    static Set<JUnitTest> tests = new HashSet<>();

    @Test
    public void test1() {
        assertThat(tests).doesNotContain(this);
        tests.add(this);
        assertThat(contextObject).satisfiesAnyOf(real-> assertThat(real).isEqualTo(null),
                real->assertThat(real).isEqualTo(this.context));
        contextObject = this.context;
    }

    @Test
    public void test2() {
        assertThat(tests).doesNotContain(this);
        tests.add(this);
        assertThat(contextObject).satisfiesAnyOf(real-> assertThat(real).isEqualTo(null),
                real->assertThat(real).isEqualTo(this.context));
        contextObject = this.context;
    }

    @Test
    public void test3() {
        assertThat(tests).doesNotContain(this);
        tests.add(this);
        assertThat(contextObject).satisfiesAnyOf(real-> assertThat(real).isEqualTo(null),
                real->assertThat(real).isEqualTo(this.context));
        contextObject = this.context;
    }
}

```

## 5.3 ë²„ê·¸ í…ŒìŠ¤íŠ¸

ì½”ë“œì— ì˜¤ë¥˜ê°€ ìˆì„ ë•Œ ê·¸ ì˜¤ë¥˜ë¥¼ ê°€ì¥ ì˜ ë“œëŸ¬ë‚´ì¤„ ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸

ë²„ê·¸ í…ŒìŠ¤íŠ¸ëŠ” ì¼ë‹¨ ì‹¤íŒ¨í•˜ë„ë¡ ë§Œë“¤ì–´ì•¼ í•œë‹¤. 
ê·¸ë¦¬ê³ ! application ì½”ë“œë¥´ ìˆ˜ì •í•´ì•¼ í•œë‹¤. 
