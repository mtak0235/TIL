ìŠ¤í”„ë§?
application framework

application framework?
applicationì˜ ê¸°ë³¸ í‹€ + ê³µí†µ í”„ë¡œê·¸ë˜ë° ëª¨ë¸
â¡ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ + IoC/DI, ì„œë¹„ìŠ¤ ì¶”ìƒí™”, AOP + ê¸°ìˆ  API

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ
(=application context)
ìŠ¤í”„ë§ ëŸ°íƒ€ì„ ì—”ì§„
ì—­í•  : ì„¤ì • ì •ë³´ë¥¼ ì°¸ê³ í•´ì„œ appì„ êµ¬ì„±í•˜ëŠ” OBJë¥¼ ìƒì„±&ê´€ë¦¬ í•œë‹¤.

 IoC/DI
Objì˜ ìƒëª… ì£¼ê¸°ì™€ ì˜ì¡´ ê´€ê³„ì— ëŒ€í•œ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì´ë‹¤. 

ì„œë¹„ìŠ¤ ì¶”ìƒí™”
êµ¬ì²´ì ì¸ ê¸°ìˆ ê³¼ í™˜ê²½ì— ì¢…ì†ë˜ì§€ ì•Šë„ë¡ ìœ ì—°í•œ ì¶”ìƒ ê³„ì¸µì„ ë‘ëŠ” ë°©ë²•

AOP
ì½”ë“œì— ì‚°ì¬í•œ ë¶€ê°€ì ì¸ ê¸°ëŠ¥ì„ ë…ë¦½ì ìœ¼ë¡œ ëª¨ë“ˆí™” í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ëª¨ë¸

ê¸°ìˆ  API
ì˜..ëª¨ë¥´ê² ìŒ.

----

>  springì˜ í•µì‹¬ì€ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ appì„ ë§Œë“œëŠ”ë°ì— ìˆë‹¤.

# 1. ì´ˆë‚œê° DAO

* DAO
  * DBë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ì¡°ì‘í•˜ëŠ” ê¸°ëŠ¥ì„ ì „ë‹´í•˜ë„ë¡ ë§Œë“  ì˜¤ë¸Œì íŠ¸

ğŸ˜ì‚¬ìš©ì ì •ë³´ë¥¼  JDBC API ë¥¼ í†µí•´ DBì— ì €ì¥í•˜ê³   ì¡°íšŒí•  ìˆ˜ ìˆëŠ” DAOë¥¼ ë§Œë“¤ì–´ ë³´ì

> JavaBean
>
> * ë””í´íŠ¸ìƒì„±ì + prpopertyë¥¼ ê°€ì§„ ê°ì²´

* JDBCë¥¼ ì´ìš©í•˜ëŠ” ì‘ì—…ì˜ ìˆœì„œ
  1.  DBì—°ê²°ìš© connectionì„ ê°€ì ¸ì˜¨ë‹¤.
  2. SQLì„ ë‹´ì€ statementë¥¼ ë§Œë“ ë‹¤.
  3. ë§Œë“  statementë¥¼ ì‹¤í–‰í•œë‹¤.
  4. ì¡°íšŒì˜ ê²½ìš°, SQLì¿¼ë¦¬ì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ResultSetìœ¼ë¡œ ë°›ì•„ì„œ ì •ë³´ë¥¼ ì €ì¥í•  ê°ì²´ì— ë‹´ì•„ì¤€ë‹¤.
  5. ì‘ì—…ì¤‘ì— ìƒì„±ëœ Connection, Statement, ResultSet ê°™ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ë‹«ì•„ì¤€ë‹¤.
  6. JDBC APIê°€ ë§Œë“  Exceptionì„ ì§ì ‘ ì²˜ë¦¬í•˜ê±°ë‚˜ ë©”ì†Œë“œì— throwsë¥¼ ì„ ì–¸í•´ ì±…ì„ì„ ì „ê°€í•œë‹¤.

```java
package org.example.user.dao;

import org.example.user.domain.User;

import java.sql.*;

public class UserDao {
    public void add(User user) throws ClassNotFoundException, SQLException {
        Class.forName("com.mysql.cj.jdbc.Driver");
        Connection c = DriverManager.getConnection("jdbc:mysql://localhost/tobby", "tobaby", "0000");

        PreparedStatement ps = c.prepareStatement(
                "insert into users (id, name, password) values (?,?,?)");
        ps.setString(1, user.getId());
        ps.setString(2, user.getName());
        ps.setString(3, user.getPassword());
        ps.executeUpdate();
        ps.close();
        c.close();
    }

    public User get(String id) throws ClassNotFoundException, SQLException {
        Class.forName("com.mysql.cj.jdbc.Driver");
        Connection c = DriverManager.getConnection("jdbc:mysql://localhost/tobby", "tobaby", "0000");

        PreparedStatement ps = c.prepareStatement(
                "select * from users where id = ?"
        );
        ps.setString(1, id);

        ResultSet rs = ps.executeQuery();
        rs.next();
        User user = new User();
        user.setId(rs.getString("id"));
        user.setName(rs.getString("name"));
        user.setPassword(rs.getString("password"));
        rs.close();
        ps.close();
        c.close();
        return user;
    }
}

```

```java
package org.example.user.domain;

public class User {
    String id;
    String name;
    String password;

    public String getId() {
        return id;
    }

    public String getName() {
        return name;
    }

    public String getPassword() {
        return password;
    }

    public void setId(String id) {
        this.id = id;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setPassword(String password) {
        this.password = password;
    }
}

```

```java
package org.example.user;

import org.example.user.dao.UserDao;
import org.example.user.domain.User;

import java.sql.SQLException;

public class Main {
    public static void main(String[] args) throws SQLException, ClassNotFoundException {
        UserDao dao = new UserDao();
        User user = new User();
        user.setId("mtak8");
        user.setName("íƒë¯¼ê²½");
        user.setPassword("1004");
        dao.add(user);
        System.out.println("succeed " + user.getId());

        User user1 = dao.get(user.getId());
        System.out.println(user1.getId());
        System.out.println(user1.getName());
        System.out.println(user1.getPassword());
        System.out.println("succeed" + user1.getId());
    }
}

```

# 2. DAOì˜ ë¶„ë¦¬

## 2.1 ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬

ë³€í™”ê°€ í•œë²ˆì— í•œê°€ì§€ ê´€ì‹¬ì— ì§‘ì¤‘ì ìœ¼ë¡œ ì¼ì–´ë‚˜ë©´, ìš°ë¦¬ëŠ” ê·¸ í•œ ê°€ì§€ ê´€ì‹¬ì´ í•œ êµ°ë°ì— ì§‘ì¤‘ë˜ê²Œ í•´ ì¤˜ì•¼ í•œë‹¤.

## 2.2 ì»¤ë„¥ì…˜ ë§Œë“¤ê¸°ì˜ ì¶”ì¶œ

ğŸ˜í˜„ì¬ DAOì˜ add()ë§Œ ë´ë„ ê´€ì‹¬ ì‚¬í•­ì´ 3ê°€ì§€ë‚˜ ìˆë‹¤?

1. DBì™€ ì—°ê²°ì„ ìœ„í•œ ì»¤ë„¥ì…˜.
   1. ì–´ë–¤ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•  ê²ƒì¸ì§€
   2. ì–´ë–¤ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì“°ëŠ”ì§€
   3. ì»¤ë„¥ì…˜ì„ ìƒì„±í•˜ëŠ” ë°©ë²• ë­ ì“°ëŠ”ì§€
2. SQL ë‹´ì„ Statement ë§Œë“¤ê³  ì‹¤í–‰
   1. statement
